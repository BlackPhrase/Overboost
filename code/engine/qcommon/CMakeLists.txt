aux_source_directory(${CMAKE_CURRENT_SOURCE_DIR} PROJECT_SOURCES_COMMON)

set(PLATFORM "null")

if(WIN32)
	set(PLATFORM "win")
elseif(APPLE) #(${CMAKE_SYSTEM_NAME} MATCHES "Darwin")
	set(PLATFORM "macos")
elseif(UNIX)
	set(PLATFORM "unix")
endif()

aux_source_directory(${CMAKE_CURRENT_SOURCE_DIR}/${PLATFORM} PROJECT_SOURCES_COMMON_PLATFORM)

target_sources(${PROJECT_NAME}
	PRIVATE ${PROJECT_SOURCES_COMMON}
	PRIVATE ${PROJECT_SOURCES_COMMON_PLATFORM}
)